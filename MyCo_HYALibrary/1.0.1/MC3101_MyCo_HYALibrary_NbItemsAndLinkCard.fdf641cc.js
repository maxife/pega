(self.webpackChunkmycustomcomponents=self.webpackChunkmycustomcomponents||[]).push([[84032637],{833:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MyCoHyaLibraryNbItemsAndLinkCard:()=>A,default:()=>I});var o=n(1594),a=n(6765),s=n(3359),i=n(4473),r=n(4125),c=n(2907),l=n(7501),d=n(1093),p=n(9036),u=n(70),g=n(2870),C=n(4027),m=n(6021),w=n(4848);const y=({propName:e,type:t,item:n,getPConnect:o})=>{const a=n[e];if(a){if("pyID"===e&&n.pyID&&n.pyLabel&&n.pxObjClass&&n.pzInsKey){const e=window.PCore.getSemanticUrlUtils().getResolvedSemanticURL(window.PCore.getSemanticUrlUtils().getActions().ACTION_OPENWORKBYHANDLE,{caseClassName:n.pxObjClass},{workID:n.pyID});return e?(0,w.jsx)(C.Ay,{href:e,previewable:!0,onPreview:()=>{o().getActionsApi().showCasePreview(encodeURI(n.pzInsKey),{caseClassName:n.pxObjClass})},onClick:e=>{e.metaKey||e.ctrlKey||(e.preventDefault(),o().getActionsApi().openWorkByHandle(n.pzInsKey,n.pxObjClass))},children:a}):a}return"date"===t?(0,w.jsx)(m.A,{value:new Date(a),variant:"relative"}):a}};n(1957),(0,a.pU)(p,u,g);const h=({heading:e,objects:t,loading:n})=>(0,w.jsx)(s.A,{heading:e,count:t.length,progress:n,children:(0,w.jsx)(i.Ay,{items:t})}),A=e=>{const{heading:t="List of objects",iconName:n="clipboard",primaryField:a,secondaryFields:s="",secondaryFieldTypes:d="",dataPage:p="",setCaseID:u=!1,getPConnect:g}=e,{create:C}=(0,r.A)(),[m,A]=(0,o.useState)([]),[I,_]=(0,o.useState)(!0),b=(0,o.useRef)(),N=g().getValue(window.PCore.getConstants().CASE_INFO.CASE_INFO_ID);return(0,o.useEffect)(()=>{if(p){const e=g(),t={dataViewParameters:[{CaseInstanceKey:e.getValue(window.PCore.getConstants().CASE_INFO.CASE_INFO_ID)}]};window.PCore.getDataApiUtils().getData(p,u?t:{},e.getContextName()).then(e=>{null!==e.data.data?(e=>{const t=[],n=d.split(",");var o;e.forEach(e=>{const o=y({propName:a,type:"string",item:e,getPConnect:g}),i=[];s.split(",").forEach((t,o)=>{if(e[t]){const a=y({propName:t,type:n[o]?.trim().toLocaleLowerCase()||"",item:e,getPConnect:g});a&&i.push(a)}}),t.push({id:e.pyID||e.pyLabel,primary:o,secondary:(0,w.jsx)(c.Ay,{items:i})})}),A(t),o=t?.length??0,window.PCore.getPubSubUtils().publish("WidgetUpdated",{widget:"PEGA_EXTENSIONS_UTILITYLIST",count:o,caseID:N}),_(!1)})(e.data.data):_(!1)}).catch(()=>{_(!1)})}},[p,a,s,d,g]),a&&p?(0,w.jsx)(l.A,{container:{direction:"column"},children:(0,w.jsx)(i.Ay,{name:t,headingTag:"h3",icon:n,count:I?void 0:m.length,items:m?.slice(0,3),loading:I,onViewAll:()=>{b.current=C(h,{heading:t,objects:m,loading:I})}})}):null},I=(0,d.A)(A)},1957:(e,t,n)=>{window?.__webpack_nonce__&&(n.nc=window.__webpack_nonce__)},2020:(e,t,n)=>{var o={};function a(e){return Promise.resolve().then(()=>{if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n(o[e])})}a.keys=()=>Object.keys(o),a.id=2020,e.exports=a},6935:e=>{function t(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=6935,e.exports=t}}]);
//# sourceMappingURL=MC3101_MyCo_HYALibrary_NbItemsAndLinkCard.fdf641cc.js.map